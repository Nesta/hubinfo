(function(a){(function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("{!").join("	").replace(/((^|!})[^\t]*)'/g,"$1\r").replace(/\t=(.*?)!}/g,"',$1,'").split("	").join("');").split("!}").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}})();var b=function(b,c,d){a.ajax({url:"https://api.github.com/repos/"+b+"/"+c,dataType:"jsonp",success:function(a){if(a.data.message=="Not Found")throw new Error("Invalid user or repo");d(a.data)}})},c=function(b,c,d){a.ajax({url:"http://github.com/api/v2/json/commits/list/"+b+"/"+c+"/master",dataType:"jsonp",success:function(a){var b=a.commits[0];d(b)}})},d=function(a,d,e){var f=0,g=2,h={},i=function(){f==g&&e(h)};b(a,d,function(a){f++,h.project=a,i()}),c(a,d,function(a){f++,h.commit=a,i()})},e=function(a){if(typeof a=="string"){var b=a.split("T")[0].split("-");a=new Date(b[0],b[1]-1,b[2])}var c=(new Date).getTime(),d=c-a.getTime(),e=d/1e3,f=Math.floor(d/864e5);return f===0?"today":f>30?Math.floor(f/30)+" month(s) ago":f+" day(s) ago"};a.fn.hubInfo=function(b){var c=a.extend({},a.fn.hubInfo.defaults,b),f=this;return d(c.user,c.repo,function(b){c.debug&&console.log(b),b.relativeDate=e;var d=tmpl(c.template,b);f.each(function(b,c){var e=a(c);e.html(d)})}),f},a.fn.hubInfo.defaults={user:"",repo:"",debug:!1,template:""}})(jQuery),jQuery.fn.hubInfo.defaults.template='<div class="github-repo"><div class="repo-header"><div class="repo-stats"><span class="repo-lang">{!= project.language !}</span><a href="{!= project.html_url !}" class="repo-watchers">{!= project.watchers !}</a><a href="{!= project.html_url !}" class="repo-forks">{!= project.forks !}</a></div><div><a href="{!= project.html_url !}" class="repo-name">{!= project.name !}</a></div></div><div class="repo-commit"><a class="repo-commit-message" href="http://github.com{!= commit.url !}">{!= commit.message !}</a><div class="repo-commit-date">committed {!= relativeDate(commit.committed_date) !}</div></div></div>'